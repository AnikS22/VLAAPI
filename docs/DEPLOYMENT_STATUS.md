# Praxis Labs - Deployment Status

**Last Updated**: 2025-11-07
**Status**: ‚úÖ Frontend Deployed | ‚öôÔ∏è Backend Setup Required

---

## ‚úÖ Completed Deployments

### Frontend - Vercel
**Status**: ‚úÖ **LIVE**

**Production URL**: https://frontend-1gp6cxaq3-aniksahai-icloudcoms-projects.vercel.app

**Project Dashboard**: https://vercel.com/aniksahai-icloudcoms-projects/frontend

**What's Deployed**:
- ‚úÖ Authentication pages (login, register, forgot/reset password)
- ‚úÖ Customer dashboard (6 pages)
- ‚úÖ Admin panel (5 pages)
- ‚úÖ All components and charts
- ‚úÖ Mobile responsive design
- ‚úÖ Production build optimized

**Environment Variables Needed** (add in Vercel dashboard):
```
NEXT_PUBLIC_API_URL=https://praxis-labs-backend.railway.app
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_...
```

### Backend - Railway Project Created
**Status**: ‚öôÔ∏è **SETUP REQUIRED**

**Project Dashboard**: https://railway.com/project/000d0aaa-a51c-479c-a0e6-bdb61695cee4

**Project Name**: praxis-labs-backend

---

## üöÄ Next Steps (Railway Backend Setup)

Railway CLI requires interactive prompts, so you'll need to complete the setup via the Railway dashboard:

### Step 1: Add PostgreSQL Database
1. Go to https://railway.com/project/000d0aaa-a51c-479c-a0e6-bdb61695cee4
2. Click **"New"** ‚Üí **"Database"** ‚Üí **"PostgreSQL"**
3. Wait for deployment (takes ~2 minutes)
4. Copy the `DATABASE_URL` from the **"Variables"** tab

### Step 2: Add Redis Cache
1. Click **"New"** ‚Üí **"Database"** ‚Üí **"Redis"**
2. Wait for deployment
3. Copy the `REDIS_URL` from the **"Variables"** tab

### Step 3: Deploy Backend API
1. Click **"New"** ‚Üí **"GitHub Repo"**
2. Connect your GitHub account
3. Select your VLAAPI repository
4. Railway will auto-detect Python and start building
5. Wait for deployment (~5 minutes)

### Step 4: Configure Environment Variables
In the Railway dashboard, add these environment variables to your backend service:

```bash
# Application
APP_NAME=Praxis Labs VLA API
APP_VERSION=1.0.0
ENVIRONMENT=production
DEBUG=false

# Database (auto-generated by Railway)
DATABASE_URL=${{Postgres.DATABASE_URL}}

# Redis (auto-generated by Railway)
REDIS_URL=${{Redis.REDIS_URL}}

# JWT Authentication
JWT_SECRET_KEY=your-super-secret-key-min-32-chars-change-this
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=30

# Stripe (get from https://dashboard.stripe.com)
STRIPE_SECRET_KEY=sk_live_...
STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PRICE_ID_PRO=price_...
STRIPE_PRICE_ID_ENTERPRISE=price_...

# CORS (use your Vercel frontend URL)
CORS_ORIGINS=https://frontend-1gp6cxaq3-aniksahai-icloudcoms-projects.vercel.app

# Feature Flags
ENABLE_GPU_MONITORING=false
ENABLE_PROMETHEUS=true
ENABLE_EMBEDDINGS=false
```

### Step 5: Run Database Migration
Once backend is deployed, run the migration:

```bash
railway run psql $DATABASE_URL < migrations/001_create_users_and_auth.sql
```

Or manually via Railway dashboard:
1. Click your PostgreSQL service
2. Click **"Data"** ‚Üí **"Query"**
3. Copy and paste the contents of `migrations/001_create_users_and_auth.sql`
4. Click **"Execute"**

### Step 6: Create Admin User
Run this SQL to create your first admin user:

```sql
INSERT INTO vlaapi.users (email, hashed_password, full_name, is_superuser, is_active, email_verified)
VALUES (
    'admin@praxislabs.com',
    '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewY5ND0azvKJMJtu',
    'Admin User',
    true,
    true,
    true
);
```

**Admin Login Credentials**:
- Email: `admin@praxislabs.com`
- Password: `AdminPass123!`

### Step 7: Update Vercel Environment Variables
1. Go to https://vercel.com/aniksahai-icloudcoms-projects/frontend
2. Go to **Settings** ‚Üí **Environment Variables**
3. Add:
   ```
   NEXT_PUBLIC_API_URL=https://your-railway-backend-url.railway.app
   NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_...
   ```
4. Click **"Redeploy"** to apply changes

### Step 8: Configure Stripe Webhooks
1. Go to https://dashboard.stripe.com/webhooks
2. Click **"Add endpoint"**
3. Enter URL: `https://your-railway-backend-url.railway.app/v1/billing/webhooks/stripe`
4. Select events:
   - `customer.subscription.created`
   - `customer.subscription.updated`
   - `customer.subscription.deleted`
   - `invoice.payment_succeeded`
   - `invoice.payment_failed`
5. Copy the webhook signing secret
6. Add to Railway: `STRIPE_WEBHOOK_SECRET=whsec_...`

---

## üß™ Testing Your Deployment

### 1. Test Frontend
Visit: https://frontend-1gp6cxaq3-aniksahai-icloudcoms-projects.vercel.app

**Expected**:
- ‚úÖ Login/register pages load
- ‚úÖ All assets load correctly
- ‚úÖ Mobile responsive works

### 2. Test Backend API
Once Railway backend is deployed, test:

```bash
curl https://your-railway-backend-url.railway.app/
```

**Expected Response**:
```json
{
  "name": "Praxis Labs VLA API",
  "version": "1.0.0",
  "status": "running"
}
```

### 3. Test Complete Flow
Run the automated test suite:

```bash
# Update BASE_URL in tests/integration/test_complete_user_flow.py
# Then run:
./scripts/test_complete_flow.sh
```

Or manually test:
1. Register new user on frontend
2. Create API key
3. Run inference (use playground)
4. View analytics
5. Check admin panel (login as admin user)

---

## üí∞ Cost Estimate

| Service | Cost |
|---------|------|
| Vercel Frontend | **FREE** |
| Railway Hobby Plan | **$5/month** (includes PostgreSQL + Redis + Backend) |
| Stripe | **Free** + 2.9% + $0.30 per transaction |
| **Total** | **$5/month** |

---

## üîß Alternative: Manual Railway CLI Setup

If you prefer using Railway CLI (requires interactive terminal):

```bash
# Link to your project
railway link

# Select a service (you'll get a menu to choose from)
railway service

# Add PostgreSQL
railway add

# Add Redis
railway add

# Deploy backend
railway up

# View logs
railway logs

# Open in browser
railway open
```

---

## üìä Deployment Checklist

### Frontend (Vercel)
- [x] Project deployed
- [ ] Environment variables configured
- [ ] Custom domain added (optional)
- [ ] Production URL tested

### Backend (Railway)
- [x] Project created
- [ ] PostgreSQL database added
- [ ] Redis cache added
- [ ] Backend service deployed
- [ ] Environment variables configured
- [ ] Database migration executed
- [ ] Admin user created
- [ ] API health check passes

### Integration
- [ ] Frontend connects to backend
- [ ] Stripe webhook configured
- [ ] User registration works
- [ ] API key creation works
- [ ] Inference execution works
- [ ] Admin panel accessible

---

## üÜò Troubleshooting

### Frontend shows "Failed to fetch"
**Solution**: Update `NEXT_PUBLIC_API_URL` in Vercel to point to your Railway backend URL

### Backend won't start on Railway
**Solution**: Check Railway logs. Common issues:
- Missing environment variables
- Database connection failed
- Port binding (Railway auto-assigns PORT)

### Database migration fails
**Solution**: Ensure PostgreSQL service is running and `DATABASE_URL` is set correctly

### Stripe webhooks not working
**Solution**:
1. Check webhook URL is correct
2. Verify `STRIPE_WEBHOOK_SECRET` is set
3. Test webhook with Stripe CLI: `stripe listen --forward-to localhost:8000/v1/billing/webhooks/stripe`

---

## üìû Support & Documentation

**Full Documentation**:
- `docs/DEPLOYMENT_GUIDE.md` - Detailed production deployment
- `docs/DEPLOYMENT_ARCHITECTURE.md` - Hosting architecture
- `docs/TESTING_GUIDE.md` - Testing instructions
- `FINAL_DELIVERY.md` - Complete project summary

**Railway Documentation**: https://docs.railway.com
**Vercel Documentation**: https://vercel.com/docs

---

**Status**: Ready for production use once Railway backend is configured! üöÄ
